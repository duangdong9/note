(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{451:function(a,t,e){"use strict";e.r(t);var n=e(18),s=Object(n.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"单例模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单例模式"}},[a._v("#")]),a._v(" 单例模式")]),a._v(" "),e("h3",{attrs:{id:"一、定义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、定义"}},[a._v("#")]),a._v(" 一、定义")]),a._v(" "),e("p",[e("strong",[a._v("保证一个类仅有一个实例，并提供一个访问它的全局访问点。")]),a._v("\n当单击登陆按钮，页面中出现一个登陆浮窗，这个登陆浮窗是唯一的，无论单击多少次登陆按钮，这个浮窗都只会被创建一次，那么这个登陆浮窗就适合用单例模式来创建。")]),a._v(" "),e("h3",{attrs:{id:"二、实现原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、实现原理"}},[a._v("#")]),a._v(" 二、实现原理")]),a._v(" "),e("p",[a._v("要实现单例并不复杂，使用一个变量来标志当前是否已经为某个类创建过对象，如果是，则在下一次获取该类的实例时，直接返回之前创建的对象。")]),a._v(" "),e("h3",{attrs:{id:"三、假单例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、假单例"}},[a._v("#")]),a._v(" 三、假单例")]),a._v(" "),e("p",[a._v("全局变量不是单例模式，但在JavaScript开发中，我们经常会把全局变量当成单例来使用。")]),a._v(" "),e("blockquote",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var a = {};\n")])])])]),a._v(" "),e("p",[a._v("降低全局变量带来的命名污染\n（1）使用命名空间")]),a._v(" "),e("blockquote",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var namespace1 = {\n    a: function(){},\n    b: 2}\n")])])])]),a._v(" "),e("p",[a._v("（2）使用闭包封装私有变量")]),a._v(" "),e("blockquote",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var user = (function() {\n    var _name = 'lee',\n        _age = '25';    return {\n        getUserInfo: function() {\n            return _name + \":\" + _age;\n        }\n    };\n})();\n")])])])]),a._v(" "),e("h3",{attrs:{id:"四、惰性单例-在需要的时候才能创建对象实例。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、惰性单例-在需要的时候才能创建对象实例。"}},[a._v("#")]),a._v(" 四、惰性单例：在需要的时候才能创建对象实例。")]),a._v(" "),e("blockquote",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var getSingle = function(fn) {\n    var result;    return function() {\n        return result || (result = fn.apply(this, arguments));\n    };\n};\n// 测试\nfunction testSingle(){}\ngetSingle(testSingle)() === getSingle(testSingle)();   \n // true\n")])])])]),a._v(" "),e("h3",{attrs:{id:"五、补充"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五、补充"}},[a._v("#")]),a._v(" 五、补充：")]),a._v(" "),e("p",[e("strong",[a._v("（1）懒加载")])]),a._v(" "),e("blockquote",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var lazyload = function() {\n    console.log(1);\n    lazyload = function() {\n        console.log(2);\n    }    return lazyload();\n}\n\nlazyload();\n")])])])]),a._v(" "),e("p",[e("strong",[a._v("（2）预加载")])]),a._v(" "),e("blockquote",[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var preload = (function() {\n    console.log(1);\n    preload = function() {\n        console.log(2);\n    };    return preload;\n})();\n\npreload();\n")])])])])])}),[],!1,null,null,null);t.default=s.exports}}]);