(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{475:function(t,s,a){"use strict";a.r(s);var n=a(18),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"可能是最好的-this-解析了"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可能是最好的-this-解析了"}},[t._v("#")]),t._v(" 可能是最好的 this 解析了")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/ccPDFpmAVU4Lk2qMRodM0Q",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://mp.weixin.qq.com/s/ccPDFpmAVU4Lk2qMRodM0Q"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"找对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#找对象"}},[t._v("#")]),t._v(" 找对象")]),t._v(" "),a("p",[t._v("首先， "),a("strong",[t._v("this 在大多数情况下是一个对象，也有可能是 undefined 或其他值")]),t._v("。")]),t._v(" "),a("p",[t._v("什么情况下，"),a("code",[t._v("this")]),t._v(" 是 "),a("code",[t._v("undefined")]),t._v(" ？函数运行在严格模式下，应用默认绑定规则的时候：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("c\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Uncaught TypeError: Cannot read property 'a' of undefined")]),t._v("\n")])])]),a("p",[t._v("原理其实很简单，因为规范定义了严格模式下，不能将全局对象 "),a("code",[t._v("Window")]),t._v(" 用于默认绑定。而大多数情况下，我们说的 "),a("code",[t._v("this")]),t._v("，其实就是一个对象，所以确定 "),a("code",[t._v("this")]),t._v(" 的指向，本质上就是要"),a("strong",[t._v("找到这个对象")]),t._v("。")]),t._v(" "),a("p",[a("strong",[t._v("所以接下来我就来教大家如何 “找对象” 🤣 。")])]),t._v(" "),a("h2",{attrs:{id:"绑定规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#绑定规则"}},[t._v("#")]),t._v(" 绑定规则")]),t._v(" "),a("p",[t._v("找对象最重要的是什么？是不是得先通过各种途径（社交，搭讪，相亲...）去认识对象，途径越多，我们找到对象的几率就越大，对吧，这里也是一样，所以我们需要尽可能的了解 this 的绑定规则。")]),t._v(" "),a("p",[a("strong",[t._v("ECMAScript 5规范")]),t._v("[1] 定义的 "),a("code",[t._v("this")]),t._v(" 的绑定规则，有 "),a("strong",[t._v("4")]),t._v(" 种。")]),t._v(" "),a("h3",{attrs:{id:"默认绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认绑定"}},[t._v("#")]),t._v(" 默认绑定")]),t._v(" "),a("p",[t._v("教科书会告诉我们，几乎所有的规则都会有一个默认的情况，"),a("code",[t._v("this")]),t._v(" 绑定也不例外，默认绑定的规则为：")]),t._v(" "),a("p",[a("strong",[t._v("非严格模式下，this 指向全局对象，严格模式下，this 会绑定到 undefined")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1，非严格模式下，this 指向全局对象 Window，这里相当于 Window.a")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Uncaught TypeError: Cannot read property 'a' of undefined，严格模式下，this 会绑定到 undefined，尝试从 undefined 读取属性会报错")]),t._v("\n")])])]),a("h3",{attrs:{id:"隐式绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#隐式绑定"}},[t._v("#")]),t._v(" 隐式绑定")]),t._v(" "),a("p",[a("strong",[t._v("如果函数在调用位置有上下文对象，this 就会隐式地绑定到这个对象上")]),t._v("，")]),t._v(" "),a("p",[t._v("说起来有点晦涩，直接看例子：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("a")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" foo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <-- foo 的调用位置")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nobj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2，foo 在调用位置有上下文对象 obj，this 会隐式地绑定到 obj，this.a 相当于 obj.a")]),t._v("\n")])])]),a("p",[t._v("这个规则可能会让你想起关于 "),a("code",[t._v("this")]),t._v(" 经常听到的一句话，"),a("strong",[t._v("this 依赖于调用函数前的对象")]),t._v("。")]),t._v(" "),a("p",[t._v("需要注意的是，隐式绑定在某些情况下可能会导致绑定丢失，具体来说有两种情况，")]),t._v(" "),a("p",[t._v("第一种是使用函数别名调用时：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("var a = 1;\n\nfunction foo() {\n  console.log(this.a);\n};\n\nvar obj = {\n  a: 2,\n  foo: foo,\n};\n\nvar bar = obj.foo;\n\nbar(); // 1，赋值并不会改变引用本身，使用函数别名调用时，bar 虽然是 obj.foo 的一个引用，但是实际上引用的还是 foo 函数本身，所以这里隐式绑定并没有生效， this 应用的是默认绑定\n")])])]),a("p",[t._v("第二种是函数作为参数传递时：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo() {\n  console.log(this.a);\n};\n\nfunction bar(fn) {\n  fn(); // <-- 调用位置\n};\n\nvar a = 1;\n\nvar obj = {\n  a: 2,\n  foo: foo,\n};\n\nbar(obj.foo); // 1, 参数传递也是一种隐式赋值，即使传入的是函数，这里相当于 fn = obj.foo，所以 fn 实际上引用的还是 foo 函数本身，this 应用默认绑定\n")])])]),a("h3",{attrs:{id:"显式绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显式绑定"}},[t._v("#")]),t._v(" 显式绑定")]),t._v(" "),a("p",[t._v("我们知道 "),a("code",[t._v("call")]),t._v("，"),a("code",[t._v("apply")]),t._v("，"),a("code",[t._v("bind")]),t._v(" 等方法可以改变 "),a("code",[t._v("this")]),t._v(" 的指向，通过传入参数就可以指定 "),a("code",[t._v("this")]),t._v(" 的绑定值，够不够显式 ？这种明目张胆的绑定 "),a("code",[t._v("this")]),t._v(" 的规则就叫显式绑定。")]),t._v(" "),a("p",[a("code",[t._v("call")]),t._v(" 和 "),a("code",[t._v("apply")]),t._v(" 的区别只是接受的参数格式不同，"),a("code",[t._v("call")]),t._v(" 接受一个参数列表，"),a("code",[t._v("apply")]),t._v(" 接受一个参数数组，但两者的第一个参数都是相同的，都是 "),a("strong",[t._v("绑定的 this 值")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo() {\n  console.log(this.a);\n};\n\nvar a = 1;\n\nvar obj = { a: 2 };\n\nfoo.call(obj); // 2，调用时显式地将 foo 的 this 绑定为 obj 对象，所以这里的 this.a 相当于 obj.a\n\nfoo.apply(obj); // 2，同理\n")])])]),a("p",[t._v("前文我们提到隐式绑定可能会导致绑定丢失，显式绑定也不例外，")]),t._v(" "),a("p",[t._v("思考一下，如何才能解决绑定丢失的问题？")]),t._v(" "),a("p",[t._v("答案其实很简单，只需要"),a("strong",[t._v("在调用函数的内部使用显式绑定")]),t._v("，强制地将 "),a("code",[t._v("this")]),t._v(" 绑定到对象：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo() {\n  console.log(this.a);\n};\n\nvar obj = {\n  a: 2,\n  foo: foo,\n};\n\nfunction bar(fn) {\n  fn.call(obj);\n};\n\nvar a = 1;\n\nbar(obj.foo); // 2，\n")])])]),a("p",[a("strong",[t._v("这其实就是 bind 的实现原理")]),t._v("，与 "),a("code",[t._v("call")]),t._v("，"),a("code",[t._v("apply")]),t._v(" 不同，"),a("code",[t._v("bind")]),t._v(" 调用后不会执行，而是会"),a("strong",[t._v("返回一个硬绑定的函数")]),t._v("，所以通过 "),a("code",[t._v("bind")]),t._v(" 可以解决绑定丢失的问题。"),a("code",[t._v("bind")]),t._v(" 也是显式绑定，我们来回顾下 "),a("code",[t._v("bind")]),t._v(" 的用法：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo() {\n  console.log(this.a);\n};\n\nvar obj = { a: 2 };\n\nvar a = 1;\n\nvar bar = foo.bind(obj);\n\nbar(); // 2，bar 是通过 bind 返回后的一个硬绑定函数，其内部应用了显式绑定\n")])])]),a("p",[t._v("此外，需要注意的是，将 "),a("code",[t._v("null")]),t._v("，"),a("code",[t._v("undefined")]),t._v(" 作为第一个参数传入 "),a("code",[t._v("call")]),t._v("，"),a("code",[t._v("apply")]),t._v("，"),a("code",[t._v("bind")]),t._v(" ，调用时会被忽略，实际应用的是默认绑定规则，即严格模式下，"),a("code",[t._v("this")]),t._v(" 为 "),a("code",[t._v("undefined")]),t._v("，非严格模式下为全局对象。")]),t._v(" "),a("h3",{attrs:{id:"new绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new绑定"}},[t._v("#")]),t._v(" new绑定")]),t._v(" "),a("p",[t._v("先来回顾下 new 的实现原理，")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function _new() {\n  let obj = new Object(); // 1. 创建一个空对象\n  let Con = [].shift.call(arguments); // 2. 获得构造函数\n  obj.__proto__ = Con.prototype; // 3. 链接到原型\n  let result = Con.apply(obj, arguments); // 4. 绑定 this，执行构造函数\n  return typeof result === 'object' ? result : obj; // 5. 返回 new 出来的对象\n}\n")])])]),a("p",[t._v("了解了原理，我们不难发现，在使用 "),a("code",[t._v("new")]),t._v(" 来调用函数时，会创建一个链接到函数原型的对象，并把它绑定到函数调用的 "),a("code",[t._v("this")]),t._v("，所以应用了 "),a("code",[t._v("new")]),t._v(" 绑定规则后，不会被任何方式修改 "),a("code",[t._v("this")]),t._v(" 指向：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo(a) {\n  this.a = a;\n};\n\nvar bar = new foo(2);\n\nbar.a; // 2，new 会返回一个对象，这个对象绑定到构造函数的 this\n")])])]),a("h3",{attrs:{id:"【特殊】箭头函数中的this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#【特殊】箭头函数中的this"}},[t._v("#")]),t._v(" 【特殊】箭头函数中的this")]),t._v(" "),a("p",[t._v("ES6 中新增了一种函数类型，"),a("strong",[t._v("箭头函数")]),t._v("[2]，箭头函数中 "),a("code",[t._v("this")]),t._v(" 不会应用上述规则，而是"),a("strong",[t._v("根据最外层的词法作用域来确定 this")]),t._v("，简单来说，箭头函数的 "),a("code",[t._v("this")]),t._v(" 就是它"),a("strong",[t._v("外面第一个不是箭头函数的函数的 this")]),t._v("：")]),t._v(" "),a("p",[t._v("关于this你可能还会看："),a("a",{attrs:{href:"http://mp.weixin.qq.com/s?__biz=MzAxODE4MTEzMA==&mid=2650095648&idx=1&sn=ef90aa87af4dffda10c2ae36e9206d35&chksm=83dbdd45b4ac545306307d1443604bf0993c2677ca71b89cafc8647303224333406ba70a38fe&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("《2w字大章 38道面试题》彻底理清JS中this指向问题")]),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo() {\n  return () => {\n    return () => {\n      console.log(this.a);\n    };\n  };\n};\n\nfoo()(); // undefined，箭头函数调用时，this 取决于最外层的第一个不是箭头函数的函数，这里就是 foo 函数，非严格模式下，默认绑定全局对象 Window，this.a 相当于 Window.a，输出 undefined\n")])])]),a("h2",{attrs:{id:"优先级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优先级"}},[t._v("#")]),t._v(" 优先级")]),t._v(" "),a("p",[a("strong",[t._v("new绑定 > 显式绑定 > 隐式绑定 > 默认绑定")])]),t._v(" "),a("h2",{attrs:{id:"判断模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#判断模式"}},[t._v("#")]),t._v(" 判断模式")]),t._v(" "),a("p",[t._v("根据绑定规则和优先级，我们可以总结出 "),a("code",[t._v("this")]),t._v(" 判断的通用模式，")]),t._v(" "),a("ol",[a("li",[t._v("函数是否通过 new 调用？")]),t._v(" "),a("li",[t._v("是否通过 call，apply，bind 调用？")]),t._v(" "),a("li",[t._v("函数的调用位置是否在某个上下文对象中？")]),t._v(" "),a("li",[t._v("是否是箭头函数？")]),t._v(" "),a("li",[t._v("函数调用是在严格模式还是非严格模式下？")])]),t._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("this 的绑定规则有四种：默认绑定，隐式绑定，显式绑定，new绑定")])]),t._v(" "),a("li",[a("strong",[t._v("无法应用其他 3 种规则时就是默认绑定，严格模式下 this 为 undefined，非严格模式下为全局对象")])]),t._v(" "),a("li",[a("strong",[t._v("函数在调用位置有上下文对象时，this 会隐式绑定到这个对象")])]),t._v(" "),a("li",[a("strong",[t._v("可以通过 call，apply，bind 显式地改变 this 的指向")])]),t._v(" "),a("li",[a("strong",[t._v("通过 new 调用时，this 会绑定到调用函数，new 绑定是优先级最高的绑定")])]),t._v(" "),a("li",[a("strong",[t._v("箭头函数中的 this 继承至它外层第一个不是箭头函数的函数")])])]),t._v(" "),a("h3",{attrs:{id:"关于本文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于本文"}},[t._v("#")]),t._v(" 关于本文")]),t._v(" "),a("p",[t._v("作者：campcc")]),t._v(" "),a("p",[t._v("https://github.com/campcc/blog/issues/19")]),t._v(" "),a("h3",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),a("p",[t._v("[1]ECMAScript 5规范: http://es5.github.io/[2]箭头函数: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions")])])}),[],!1,null,null,null);s.default=e.exports}}]);