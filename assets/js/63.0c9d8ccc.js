(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{475:function(t,s,a){"use strict";a.r(s);var n=a(18),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"å¯èƒ½æ˜¯æœ€å¥½çš„-this-è§£æäº†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯èƒ½æ˜¯æœ€å¥½çš„-this-è§£æäº†"}},[t._v("#")]),t._v(" å¯èƒ½æ˜¯æœ€å¥½çš„ this è§£æäº†")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/ccPDFpmAVU4Lk2qMRodM0Q",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://mp.weixin.qq.com/s/ccPDFpmAVU4Lk2qMRodM0Q"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"æ‰¾å¯¹è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰¾å¯¹è±¡"}},[t._v("#")]),t._v(" æ‰¾å¯¹è±¡")]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œ "),a("strong",[t._v("this åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ undefined æˆ–å…¶ä»–å€¼")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œ"),a("code",[t._v("this")]),t._v(" æ˜¯ "),a("code",[t._v("undefined")]),t._v(" ï¼Ÿå‡½æ•°è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåº”ç”¨é»˜è®¤ç»‘å®šè§„åˆ™çš„æ—¶å€™ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("c\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Uncaught TypeError: Cannot read property 'a' of undefined")]),t._v("\n")])])]),a("p",[t._v("åŸç†å…¶å®å¾ˆç®€å•ï¼Œå› ä¸ºè§„èŒƒå®šä¹‰äº†ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸èƒ½å°†å…¨å±€å¯¹è±¡ "),a("code",[t._v("Window")]),t._v(" ç”¨äºé»˜è®¤ç»‘å®šã€‚è€Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¯´çš„ "),a("code",[t._v("this")]),t._v("ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥ç¡®å®š "),a("code",[t._v("this")]),t._v(" çš„æŒ‡å‘ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯è¦"),a("strong",[t._v("æ‰¾åˆ°è¿™ä¸ªå¯¹è±¡")]),t._v("ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘å°±æ¥æ•™å¤§å®¶å¦‚ä½• â€œæ‰¾å¯¹è±¡â€ ğŸ¤£ ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"ç»‘å®šè§„åˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»‘å®šè§„åˆ™"}},[t._v("#")]),t._v(" ç»‘å®šè§„åˆ™")]),t._v(" "),a("p",[t._v("æ‰¾å¯¹è±¡æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯å¾—å…ˆé€šè¿‡å„ç§é€”å¾„ï¼ˆç¤¾äº¤ï¼Œæ­è®ªï¼Œç›¸äº²...ï¼‰å»è®¤è¯†å¯¹è±¡ï¼Œé€”å¾„è¶Šå¤šï¼Œæˆ‘ä»¬æ‰¾åˆ°å¯¹è±¡çš„å‡ ç‡å°±è¶Šå¤§ï¼Œå¯¹å§ï¼Œè¿™é‡Œä¹Ÿæ˜¯ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°½å¯èƒ½çš„äº†è§£ this çš„ç»‘å®šè§„åˆ™ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ECMAScript 5è§„èŒƒ")]),t._v("[1] å®šä¹‰çš„ "),a("code",[t._v("this")]),t._v(" çš„ç»‘å®šè§„åˆ™ï¼Œæœ‰ "),a("strong",[t._v("4")]),t._v(" ç§ã€‚")]),t._v(" "),a("h3",{attrs:{id:"é»˜è®¤ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é»˜è®¤ç»‘å®š"}},[t._v("#")]),t._v(" é»˜è®¤ç»‘å®š")]),t._v(" "),a("p",[t._v("æ•™ç§‘ä¹¦ä¼šå‘Šè¯‰æˆ‘ä»¬ï¼Œå‡ ä¹æ‰€æœ‰çš„è§„åˆ™éƒ½ä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„æƒ…å†µï¼Œ"),a("code",[t._v("this")]),t._v(" ç»‘å®šä¹Ÿä¸ä¾‹å¤–ï¼Œé»˜è®¤ç»‘å®šçš„è§„åˆ™ä¸ºï¼š")]),t._v(" "),a("p",[a("strong",[t._v("éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthis æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthis ä¼šç»‘å®šåˆ° undefined")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthis æŒ‡å‘å…¨å±€å¯¹è±¡ Windowï¼Œè¿™é‡Œç›¸å½“äº Window.a")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Uncaught TypeError: Cannot read property 'a' of undefinedï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthis ä¼šç»‘å®šåˆ° undefinedï¼Œå°è¯•ä» undefined è¯»å–å±æ€§ä¼šæŠ¥é”™")]),t._v("\n")])])]),a("h3",{attrs:{id:"éšå¼ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#éšå¼ç»‘å®š"}},[t._v("#")]),t._v(" éšå¼ç»‘å®š")]),t._v(" "),a("p",[a("strong",[t._v("å¦‚æœå‡½æ•°åœ¨è°ƒç”¨ä½ç½®æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œthis å°±ä¼šéšå¼åœ°ç»‘å®šåˆ°è¿™ä¸ªå¯¹è±¡ä¸Š")]),t._v("ï¼Œ")]),t._v(" "),a("p",[t._v("è¯´èµ·æ¥æœ‰ç‚¹æ™¦æ¶©ï¼Œç›´æ¥çœ‹ä¾‹å­ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("a")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" foo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <-- foo çš„è°ƒç”¨ä½ç½®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nobj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2ï¼Œfoo åœ¨è°ƒç”¨ä½ç½®æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡ objï¼Œthis ä¼šéšå¼åœ°ç»‘å®šåˆ° objï¼Œthis.a ç›¸å½“äº obj.a")]),t._v("\n")])])]),a("p",[t._v("è¿™ä¸ªè§„åˆ™å¯èƒ½ä¼šè®©ä½ æƒ³èµ·å…³äº "),a("code",[t._v("this")]),t._v(" ç»å¸¸å¬åˆ°çš„ä¸€å¥è¯ï¼Œ"),a("strong",[t._v("this ä¾èµ–äºè°ƒç”¨å‡½æ•°å‰çš„å¯¹è±¡")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéšå¼ç»‘å®šåœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šå¯¼è‡´ç»‘å®šä¸¢å¤±ï¼Œå…·ä½“æ¥è¯´æœ‰ä¸¤ç§æƒ…å†µï¼Œ")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€ç§æ˜¯ä½¿ç”¨å‡½æ•°åˆ«åè°ƒç”¨æ—¶ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("var a = 1;\n\nfunction foo() {\n  console.log(this.a);\n};\n\nvar obj = {\n  a: 2,\n  foo: foo,\n};\n\nvar bar = obj.foo;\n\nbar(); // 1ï¼Œèµ‹å€¼å¹¶ä¸ä¼šæ”¹å˜å¼•ç”¨æœ¬èº«ï¼Œä½¿ç”¨å‡½æ•°åˆ«åè°ƒç”¨æ—¶ï¼Œbar è™½ç„¶æ˜¯ obj.foo çš„ä¸€ä¸ªå¼•ç”¨ï¼Œä½†æ˜¯å®é™…ä¸Šå¼•ç”¨çš„è¿˜æ˜¯ foo å‡½æ•°æœ¬èº«ï¼Œæ‰€ä»¥è¿™é‡Œéšå¼ç»‘å®šå¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œ this åº”ç”¨çš„æ˜¯é»˜è®¤ç»‘å®š\n")])])]),a("p",[t._v("ç¬¬äºŒç§æ˜¯å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’æ—¶ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo() {\n  console.log(this.a);\n};\n\nfunction bar(fn) {\n  fn(); // <-- è°ƒç”¨ä½ç½®\n};\n\nvar a = 1;\n\nvar obj = {\n  a: 2,\n  foo: foo,\n};\n\nbar(obj.foo); // 1, å‚æ•°ä¼ é€’ä¹Ÿæ˜¯ä¸€ç§éšå¼èµ‹å€¼ï¼Œå³ä½¿ä¼ å…¥çš„æ˜¯å‡½æ•°ï¼Œè¿™é‡Œç›¸å½“äº fn = obj.fooï¼Œæ‰€ä»¥ fn å®é™…ä¸Šå¼•ç”¨çš„è¿˜æ˜¯ foo å‡½æ•°æœ¬èº«ï¼Œthis åº”ç”¨é»˜è®¤ç»‘å®š\n")])])]),a("h3",{attrs:{id:"æ˜¾å¼ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ˜¾å¼ç»‘å®š"}},[t._v("#")]),t._v(" æ˜¾å¼ç»‘å®š")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬çŸ¥é“ "),a("code",[t._v("call")]),t._v("ï¼Œ"),a("code",[t._v("apply")]),t._v("ï¼Œ"),a("code",[t._v("bind")]),t._v(" ç­‰æ–¹æ³•å¯ä»¥æ”¹å˜ "),a("code",[t._v("this")]),t._v(" çš„æŒ‡å‘ï¼Œé€šè¿‡ä¼ å…¥å‚æ•°å°±å¯ä»¥æŒ‡å®š "),a("code",[t._v("this")]),t._v(" çš„ç»‘å®šå€¼ï¼Œå¤Ÿä¸å¤Ÿæ˜¾å¼ ï¼Ÿè¿™ç§æ˜ç›®å¼ èƒ†çš„ç»‘å®š "),a("code",[t._v("this")]),t._v(" çš„è§„åˆ™å°±å«æ˜¾å¼ç»‘å®šã€‚")]),t._v(" "),a("p",[a("code",[t._v("call")]),t._v(" å’Œ "),a("code",[t._v("apply")]),t._v(" çš„åŒºåˆ«åªæ˜¯æ¥å—çš„å‚æ•°æ ¼å¼ä¸åŒï¼Œ"),a("code",[t._v("call")]),t._v(" æ¥å—ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œ"),a("code",[t._v("apply")]),t._v(" æ¥å—ä¸€ä¸ªå‚æ•°æ•°ç»„ï¼Œä½†ä¸¤è€…çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯ "),a("strong",[t._v("ç»‘å®šçš„ this å€¼")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo() {\n  console.log(this.a);\n};\n\nvar a = 1;\n\nvar obj = { a: 2 };\n\nfoo.call(obj); // 2ï¼Œè°ƒç”¨æ—¶æ˜¾å¼åœ°å°† foo çš„ this ç»‘å®šä¸º obj å¯¹è±¡ï¼Œæ‰€ä»¥è¿™é‡Œçš„ this.a ç›¸å½“äº obj.a\n\nfoo.apply(obj); // 2ï¼ŒåŒç†\n")])])]),a("p",[t._v("å‰æ–‡æˆ‘ä»¬æåˆ°éšå¼ç»‘å®šå¯èƒ½ä¼šå¯¼è‡´ç»‘å®šä¸¢å¤±ï¼Œæ˜¾å¼ç»‘å®šä¹Ÿä¸ä¾‹å¤–ï¼Œ")]),t._v(" "),a("p",[t._v("æ€è€ƒä¸€ä¸‹ï¼Œå¦‚ä½•æ‰èƒ½è§£å†³ç»‘å®šä¸¢å¤±çš„é—®é¢˜ï¼Ÿ")]),t._v(" "),a("p",[t._v("ç­”æ¡ˆå…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦"),a("strong",[t._v("åœ¨è°ƒç”¨å‡½æ•°çš„å†…éƒ¨ä½¿ç”¨æ˜¾å¼ç»‘å®š")]),t._v("ï¼Œå¼ºåˆ¶åœ°å°† "),a("code",[t._v("this")]),t._v(" ç»‘å®šåˆ°å¯¹è±¡ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo() {\n  console.log(this.a);\n};\n\nvar obj = {\n  a: 2,\n  foo: foo,\n};\n\nfunction bar(fn) {\n  fn.call(obj);\n};\n\nvar a = 1;\n\nbar(obj.foo); // 2ï¼Œ\n")])])]),a("p",[a("strong",[t._v("è¿™å…¶å®å°±æ˜¯ bind çš„å®ç°åŸç†")]),t._v("ï¼Œä¸ "),a("code",[t._v("call")]),t._v("ï¼Œ"),a("code",[t._v("apply")]),t._v(" ä¸åŒï¼Œ"),a("code",[t._v("bind")]),t._v(" è°ƒç”¨åä¸ä¼šæ‰§è¡Œï¼Œè€Œæ˜¯ä¼š"),a("strong",[t._v("è¿”å›ä¸€ä¸ªç¡¬ç»‘å®šçš„å‡½æ•°")]),t._v("ï¼Œæ‰€ä»¥é€šè¿‡ "),a("code",[t._v("bind")]),t._v(" å¯ä»¥è§£å†³ç»‘å®šä¸¢å¤±çš„é—®é¢˜ã€‚"),a("code",[t._v("bind")]),t._v(" ä¹Ÿæ˜¯æ˜¾å¼ç»‘å®šï¼Œæˆ‘ä»¬æ¥å›é¡¾ä¸‹ "),a("code",[t._v("bind")]),t._v(" çš„ç”¨æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo() {\n  console.log(this.a);\n};\n\nvar obj = { a: 2 };\n\nvar a = 1;\n\nvar bar = foo.bind(obj);\n\nbar(); // 2ï¼Œbar æ˜¯é€šè¿‡ bind è¿”å›åçš„ä¸€ä¸ªç¡¬ç»‘å®šå‡½æ•°ï¼Œå…¶å†…éƒ¨åº”ç”¨äº†æ˜¾å¼ç»‘å®š\n")])])]),a("p",[t._v("æ­¤å¤–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°† "),a("code",[t._v("null")]),t._v("ï¼Œ"),a("code",[t._v("undefined")]),t._v(" ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ "),a("code",[t._v("call")]),t._v("ï¼Œ"),a("code",[t._v("apply")]),t._v("ï¼Œ"),a("code",[t._v("bind")]),t._v(" ï¼Œè°ƒç”¨æ—¶ä¼šè¢«å¿½ç•¥ï¼Œå®é™…åº”ç”¨çš„æ˜¯é»˜è®¤ç»‘å®šè§„åˆ™ï¼Œå³ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ"),a("code",[t._v("this")]),t._v(" ä¸º "),a("code",[t._v("undefined")]),t._v("ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ä¸ºå…¨å±€å¯¹è±¡ã€‚")]),t._v(" "),a("h3",{attrs:{id:"newç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#newç»‘å®š"}},[t._v("#")]),t._v(" newç»‘å®š")]),t._v(" "),a("p",[t._v("å…ˆæ¥å›é¡¾ä¸‹ new çš„å®ç°åŸç†ï¼Œ")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function _new() {\n  let obj = new Object(); // 1. åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡\n  let Con = [].shift.call(arguments); // 2. è·å¾—æ„é€ å‡½æ•°\n  obj.__proto__ = Con.prototype; // 3. é“¾æ¥åˆ°åŸå‹\n  let result = Con.apply(obj, arguments); // 4. ç»‘å®š thisï¼Œæ‰§è¡Œæ„é€ å‡½æ•°\n  return typeof result === 'object' ? result : obj; // 5. è¿”å› new å‡ºæ¥çš„å¯¹è±¡\n}\n")])])]),a("p",[t._v("äº†è§£äº†åŸç†ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œåœ¨ä½¿ç”¨ "),a("code",[t._v("new")]),t._v(" æ¥è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªé“¾æ¥åˆ°å‡½æ•°åŸå‹çš„å¯¹è±¡ï¼Œå¹¶æŠŠå®ƒç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„ "),a("code",[t._v("this")]),t._v("ï¼Œæ‰€ä»¥åº”ç”¨äº† "),a("code",[t._v("new")]),t._v(" ç»‘å®šè§„åˆ™åï¼Œä¸ä¼šè¢«ä»»ä½•æ–¹å¼ä¿®æ”¹ "),a("code",[t._v("this")]),t._v(" æŒ‡å‘ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo(a) {\n  this.a = a;\n};\n\nvar bar = new foo(2);\n\nbar.a; // 2ï¼Œnew ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ç»‘å®šåˆ°æ„é€ å‡½æ•°çš„ this\n")])])]),a("h3",{attrs:{id:"ã€ç‰¹æ®Šã€‘ç®­å¤´å‡½æ•°ä¸­çš„this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ã€ç‰¹æ®Šã€‘ç®­å¤´å‡½æ•°ä¸­çš„this"}},[t._v("#")]),t._v(" ã€ç‰¹æ®Šã€‘ç®­å¤´å‡½æ•°ä¸­çš„this")]),t._v(" "),a("p",[t._v("ES6 ä¸­æ–°å¢äº†ä¸€ç§å‡½æ•°ç±»å‹ï¼Œ"),a("strong",[t._v("ç®­å¤´å‡½æ•°")]),t._v("[2]ï¼Œç®­å¤´å‡½æ•°ä¸­ "),a("code",[t._v("this")]),t._v(" ä¸ä¼šåº”ç”¨ä¸Šè¿°è§„åˆ™ï¼Œè€Œæ˜¯"),a("strong",[t._v("æ ¹æ®æœ€å¤–å±‚çš„è¯æ³•ä½œç”¨åŸŸæ¥ç¡®å®š this")]),t._v("ï¼Œç®€å•æ¥è¯´ï¼Œç®­å¤´å‡½æ•°çš„ "),a("code",[t._v("this")]),t._v(" å°±æ˜¯å®ƒ"),a("strong",[t._v("å¤–é¢ç¬¬ä¸€ä¸ªä¸æ˜¯ç®­å¤´å‡½æ•°çš„å‡½æ•°çš„ this")]),t._v("ï¼š")]),t._v(" "),a("p",[t._v("å…³äºthisä½ å¯èƒ½è¿˜ä¼šçœ‹ï¼š"),a("a",{attrs:{href:"http://mp.weixin.qq.com/s?__biz=MzAxODE4MTEzMA==&mid=2650095648&idx=1&sn=ef90aa87af4dffda10c2ae36e9206d35&chksm=83dbdd45b4ac545306307d1443604bf0993c2677ca71b89cafc8647303224333406ba70a38fe&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("ã€Š2wå­—å¤§ç«  38é“é¢è¯•é¢˜ã€‹å½»åº•ç†æ¸…JSä¸­thisæŒ‡å‘é—®é¢˜")]),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("function foo() {\n  return () => {\n    return () => {\n      console.log(this.a);\n    };\n  };\n};\n\nfoo()(); // undefinedï¼Œç®­å¤´å‡½æ•°è°ƒç”¨æ—¶ï¼Œthis å–å†³äºæœ€å¤–å±‚çš„ç¬¬ä¸€ä¸ªä¸æ˜¯ç®­å¤´å‡½æ•°çš„å‡½æ•°ï¼Œè¿™é‡Œå°±æ˜¯ foo å‡½æ•°ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œé»˜è®¤ç»‘å®šå…¨å±€å¯¹è±¡ Windowï¼Œthis.a ç›¸å½“äº Window.aï¼Œè¾“å‡º undefined\n")])])]),a("h2",{attrs:{id:"ä¼˜å…ˆçº§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜å…ˆçº§"}},[t._v("#")]),t._v(" ä¼˜å…ˆçº§")]),t._v(" "),a("p",[a("strong",[t._v("newç»‘å®š > æ˜¾å¼ç»‘å®š > éšå¼ç»‘å®š > é»˜è®¤ç»‘å®š")])]),t._v(" "),a("h2",{attrs:{id:"åˆ¤æ–­æ¨¡å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ¤æ–­æ¨¡å¼"}},[t._v("#")]),t._v(" åˆ¤æ–­æ¨¡å¼")]),t._v(" "),a("p",[t._v("æ ¹æ®ç»‘å®šè§„åˆ™å’Œä¼˜å…ˆçº§ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡º "),a("code",[t._v("this")]),t._v(" åˆ¤æ–­çš„é€šç”¨æ¨¡å¼ï¼Œ")]),t._v(" "),a("ol",[a("li",[t._v("å‡½æ•°æ˜¯å¦é€šè¿‡ new è°ƒç”¨ï¼Ÿ")]),t._v(" "),a("li",[t._v("æ˜¯å¦é€šè¿‡ callï¼Œapplyï¼Œbind è°ƒç”¨ï¼Ÿ")]),t._v(" "),a("li",[t._v("å‡½æ•°çš„è°ƒç”¨ä½ç½®æ˜¯å¦åœ¨æŸä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ä¸­ï¼Ÿ")]),t._v(" "),a("li",[t._v("æ˜¯å¦æ˜¯ç®­å¤´å‡½æ•°ï¼Ÿ")]),t._v(" "),a("li",[t._v("å‡½æ•°è°ƒç”¨æ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼è¿˜æ˜¯éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Ÿ")])]),t._v(" "),a("h2",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("this çš„ç»‘å®šè§„åˆ™æœ‰å››ç§ï¼šé»˜è®¤ç»‘å®šï¼Œéšå¼ç»‘å®šï¼Œæ˜¾å¼ç»‘å®šï¼Œnewç»‘å®š")])]),t._v(" "),a("li",[a("strong",[t._v("æ— æ³•åº”ç”¨å…¶ä»– 3 ç§è§„åˆ™æ—¶å°±æ˜¯é»˜è®¤ç»‘å®šï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ this ä¸º undefinedï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ä¸ºå…¨å±€å¯¹è±¡")])]),t._v(" "),a("li",[a("strong",[t._v("å‡½æ•°åœ¨è°ƒç”¨ä½ç½®æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡æ—¶ï¼Œthis ä¼šéšå¼ç»‘å®šåˆ°è¿™ä¸ªå¯¹è±¡")])]),t._v(" "),a("li",[a("strong",[t._v("å¯ä»¥é€šè¿‡ callï¼Œapplyï¼Œbind æ˜¾å¼åœ°æ”¹å˜ this çš„æŒ‡å‘")])]),t._v(" "),a("li",[a("strong",[t._v("é€šè¿‡ new è°ƒç”¨æ—¶ï¼Œthis ä¼šç»‘å®šåˆ°è°ƒç”¨å‡½æ•°ï¼Œnew ç»‘å®šæ˜¯ä¼˜å…ˆçº§æœ€é«˜çš„ç»‘å®š")])]),t._v(" "),a("li",[a("strong",[t._v("ç®­å¤´å‡½æ•°ä¸­çš„ this ç»§æ‰¿è‡³å®ƒå¤–å±‚ç¬¬ä¸€ä¸ªä¸æ˜¯ç®­å¤´å‡½æ•°çš„å‡½æ•°")])])]),t._v(" "),a("h3",{attrs:{id:"å…³äºæœ¬æ–‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºæœ¬æ–‡"}},[t._v("#")]),t._v(" å…³äºæœ¬æ–‡")]),t._v(" "),a("p",[t._v("ä½œè€…ï¼šcampcc")]),t._v(" "),a("p",[t._v("https://github.com/campcc/blog/issues/19")]),t._v(" "),a("h3",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),a("p",[t._v("[1]ECMAScript 5è§„èŒƒ: http://es5.github.io/[2]ç®­å¤´å‡½æ•°: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions")])])}),[],!1,null,null,null);s.default=e.exports}}]);